 1	<!DOCTYPE html>
     2	<html lang="ko">
     3	<head>
     4	    <meta charset="UTF-8">
     5	    <meta name="viewport" content="width=device-width, initial-scale=1.0">
     6	    <title>VOCA AI - ì˜ì–´ë°œì „ì†Œ</title>
     7	    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
     8	    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css">
     9	    <style>
    10	        * {
    11	            margin: 0;
    12	            padding: 0;
    13	            box-sizing: border-box;
    14	        }
    15	
    16	        body {
    17	            font-family: 'Noto Sans KR', Arial, sans-serif;
    18	            background: linear-gradient(135deg, #FFFFFF 0%, #F8FAFC 100%);
    19	            min-height: 100vh;
    20	            padding: 20px;
    21	        }
    22	
    23	        .container {
    24	            max-width: 900px;
    25	            margin: 0 auto;
    26	        }
    27	
    28	        .header {
    29	            text-align: center;
    30	            margin-bottom: 40px;
    31	            padding: 30px;
    32	            background: #FFFFFF;
    33	            border-radius: 20px;
    34	            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
    35	            border: 3px solid #FF8C00;
    36	            position: relative;
    37	        }
    38	
    39	        .header h1 {
    40	            font-size: 2.5rem;
    41	            color: #FF8C00;
    42	            margin-bottom: 10px;
    43	            font-weight: 800;
    44	        }
    45	
    46	        .header p {
    47	            color: #6B7280;
    48	            font-size: 1.2rem;
    49	        }
    50	
    51	        .sound-toggle {
    52	            position: absolute;
    53	            top: 20px;
    54	            right: 20px;
    55	            background: #FF8C00;
    56	            color: white;
    57	            border: none;
    58	            border-radius: 50%;
    59	            width: 50px;
    60	            height: 50px;
    61	            font-size: 1.5rem;
    62	            cursor: pointer;
    63	            transition: all 0.3s;
    64	            display: flex;
    65	            align-items: center;
    66	            justify-content: center;
    67	        }
    68	
    69	        .sound-toggle:hover {
    70	            background: #E6780A;
    71	            transform: scale(1.1);
    72	        }
    73	
    74	        .sound-toggle.muted {
    75	            background: #6B7280;
    76	        }
    77	
    78	        .setting-box {
    79	            background: #FFFFFF;
    80	            padding: 40px;
    81	            border-radius: 20px;
    82	            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
    83	            margin-bottom: 20px;
    84	        }
    85	
    86	        .setting-section {
    87	            margin-bottom: 40px;
    88	            padding-bottom: 30px;
    89	            border-bottom: 2px solid #F3F4F6;
    90	        }
    91	
    92	        .setting-section:last-child {
    93	            border-bottom: none;
    94	            margin-bottom: 0;
    95	        }
    96	
    97	        .setting-section h2 {
    98	            color: #FF8C00;
    99	            margin-bottom: 20px;
   100	            font-size: 1.5rem;
   101	            display: flex;
   102	            align-items: center;
   103	            gap: 10px;
   104	        }
   105	
   106	        /* ì¦ê²¨ì°¾ê¸° */
   107	        .favorites-container {
   108	            margin-bottom: 20px;
   109	        }
   110	
   111	        .favorites-list {
   112	            display: flex;
   113	            gap: 10px;
   114	            flex-wrap: wrap;
   115	            margin-bottom: 15px;
   116	        }
   117	
   118	        .favorite-item {
   119	            background: #FFF7ED;
   120	            border: 2px solid #FF8C00;
   121	            border-radius: 10px;
   122	            padding: 8px 12px;
   123	            cursor: pointer;
   124	            transition: all 0.3s;
   125	            font-size: 0.9rem;
   126	            position: relative;
   127	        }
   128	
   129	        .favorite-item:hover {
   130	            background: #FF8C00;
   131	            color: white;
   132	        }
   133	
   134	        .favorite-remove {
   135	            margin-left: 8px;
   136	            color: #6B7280;
   137	            cursor: pointer;
   138	        }
   139	
   140	        .favorite-remove:hover {
   141	            color: #EF4444;
   142	        }
   143	
   144	        /* ê²€ìƒ‰ */
   145	        .search-container {
   146	            margin-bottom: 20px;
   147	        }
   148	
   149	        .search-input {
   150	            width: 100%;
   151	            padding: 15px;
   152	            border: 2px solid #E5E7EB;
   153	            border-radius: 10px;
   154	            font-size: 1rem;
   155	            transition: all 0.3s;
   156	        }
   157	
   158	        .search-input:focus {
   159	            border-color: #FF8C00;
   160	            outline: none;
   161	            box-shadow: 0 0 0 3px rgba(255, 140, 0, 0.1);
   162	        }
   163	
   164	        .search-results {
   165	            background: white;
   166	            border-radius: 10px;
   167	            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
   168	            max-height: 300px;
   169	            overflow-y: auto;
   170	            display: none;
   171	            margin-top: 10px;
   172	        }
   173	
   174	        .search-result-item {
   175	            padding: 12px 15px;
   176	            cursor: pointer;
   177	            border-bottom: 1px solid #F3F4F6;
   178	            display: flex;
   179	            justify-content: space-between;
   180	            align-items: center;
   181	        }
   182	
   183	        .search-result-item:hover {
   184	            background: #FFF7ED;
   185	        }
   186	
   187	        .search-result-item:last-child {
   188	            border-bottom: none;
   189	        }
   190	
   191	        .search-result-category {
   192	            font-size: 0.8rem;
   193	            color: #6B7280;
   194	            margin-left: auto;
   195	            margin-right: 10px;
   196	        }
   197	
   198	        /* PCìš© ë“œë¡­ë‹¤ìš´ */
   199	        .pc-selection {
   200	            display: grid;
   201	            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
   202	            gap: 15px;
   203	        }
   204	
   205	        .category-dropdown {
   206	            position: relative;
   207	        }
   208	
   209	        .dropdown-button {
   210	            width: 100%;
   211	            padding: 15px;
   212	            background: #F9FAFB;
   213	            border: 2px solid #E5E7EB;
   214	            border-radius: 10px;
   215	            cursor: pointer;
   216	            display: flex;
   217	            justify-content: space-between;
   218	            align-items: center;
   219	            transition: all 0.3s;
   220	        }
   221	
   222	        .dropdown-button:hover, .dropdown-button.active {
   223	            background: #FFF7ED;
   224	            border-color: #FF8C00;
   225	        }
   226	
   227	        .dropdown-menu {
   228	            position: absolute;
   229	            top: 100%;
   230	            left: 0;
   231	            right: 0;
   232	            background: white;
   233	            border-radius: 10px;
   234	            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
   235	            z-index: 1000;
   236	            display: none;
   237	            max-height: 300px;
   238	            overflow-y: auto;
   239	            margin-top: 5px;
   240	        }
   241	
   242	        .dropdown-item {
   243	            padding: 12px 15px;
   244	            cursor: pointer;
   245	            border-bottom: 1px solid #F3F4F6;
   246	            display: flex;
   247	            justify-content: space-between;
   248	            align-items: center;
   249	        }
   250	
   251	        .dropdown-item:hover {
   252	            background: #FFF7ED;
   253	        }
   254	
   255	        .dropdown-item:last-child {
   256	            border-bottom: none;
   257	        }
   258	
   259	        /* ë²”ìœ„ ì„ íƒ */
   260	        .range-selection {
   261	            display: flex;
   262	            gap: 30px;
   263	            align-items: flex-start;
   264	        }
   265	
   266	        .range-method {
   267	            flex: 1;
   268	        }
   269	
   270	        .range-inputs {
   271	            display: flex;
   272	            gap: 15px;
   273	            align-items: center;
   274	            margin-bottom: 20px;
   275	        }
   276	
   277	        .range-inputs input {
   278	            padding: 12px;
   279	            border: 2px solid #E5E7EB;
   280	            border-radius: 8px;
   281	            font-size: 1rem;
   282	            width: 80px;
   283	            text-align: center;
   284	        }
   285	
   286	        .range-inputs input:focus {
   287	            border-color: #FF8C00;
   288	            outline: none;
   289	        }
   290	
   291	        .range-inputs button {
   292	            padding: 10px 20px;
   293	            background: #FF8C00;
   294	            color: white;
   295	            border: none;
   296	            border-radius: 6px;
   297	            cursor: pointer;
   298	            transition: all 0.3s;
   299	        }
   300	
   301	        .range-inputs button:hover {
   302	            background: #E6780A;
   303	        }
   304	
   305	        .checkbox-grid {
   306	            display: grid;
   307	            grid-template-columns: repeat(auto-fill, minmax(80px, 1fr));
   308	            gap: 10px;
   309	            max-height: 200px;
   310	            overflow-y: auto;
   311	            padding: 15px;
   312	            background: #F9FAFB;
   313	            border-radius: 10px;
   314	            border: 2px solid #E5E7EB;
   315	        }
   316	
   317	        .day-checkbox {
   318	            display: flex;
   319	            align-items: center;
   320	            padding: 8px;
   321	            background: white;
   322	            border-radius: 6px;
   323	            cursor: pointer;
   324	            transition: all 0.2s;
   325	        }
   326	
   327	        .day-checkbox:hover {
   328	            background: #FFF7ED;
   329	        }
   330	
   331	        .day-checkbox input[type="checkbox"] {
   332	            margin-right: 8px;
   333	            transform: scale(1.1);
   334	            cursor: pointer;
   335	        }
   336	
   337	        .day-checkbox.checked {
   338	            background: #FFF7ED;
   339	            border: 1px solid #FF8C00;
   340	        }
   341	
   342	        /* í…ŒìŠ¤íŠ¸ ìœ í˜• */
   343	        .test-type {
   344	            display: flex;
   345	            gap: 20px;
   346	        }
   347	
   348	        .test-option {
   349	            flex: 1;
   350	            display: flex;
   351	            align-items: center;
   352	            padding: 20px;
   353	            background: #F9FAFB;
   354	            border-radius: 15px;
   355	            cursor: pointer;
   356	            transition: all 0.3s;
   357	            border: 2px solid transparent;
   358	        }
   359	
   360	        .test-option:hover, .test-option.selected {
   361	            background: #FFF7ED;
   362	            border-color: #FF8C00;
   363	        }
   364	
   365	        .test-option input[type="radio"] {
   366	            margin-right: 15px;
   367	            transform: scale(1.3);
   368	            cursor: pointer;
   369	        }
   370	
   371	        .test-option-content {
   372	            flex: 1;
   373	        }
   374	
   375	        .test-option-title {
   376	            font-size: 1.2rem;
   377	            font-weight: 600;
   378	            color: #1F2937;
   379	            margin-bottom: 5px;
   380	        }
   381	
   382	        .test-option-desc {
   383	            font-size: 0.9rem;
   384	            color: #6B7280;
   385	        }
   386	
   387	        /* ë²„íŠ¼ */
   388	        .start-btn {
   389	            width: 100%;
   390	            padding: 25px;
   391	            background: #FF8C00;
   392	            color: white;
   393	            border: none;
   394	            border-radius: 15px;
   395	            font-size: 1.4rem;
   396	            font-weight: 700;
   397	            cursor: pointer;
   398	            transition: all 0.3s;
   399	        }
   400	
   401	        .start-btn:hover {
   402	            background: #E6780A;
   403	            transform: translateY(-2px);
   404	            box-shadow: 0 10px 20px rgba(255,140,0,0.3);
   405	        }
   406	
   407	        .start-btn:disabled {
   408	            background: #D1D5DB;
   409	            cursor: not-allowed;
   410	            transform: none;
   411	            box-shadow: none;
   412	        }
   413	
   414	        /* í…ŒìŠ¤íŠ¸ í™”ë©´ */
   415	        .test-screen {
   416	            display: none;
   417	            text-align: center;
   418	        }
   419	
   420	        .test-screen.active {
   421	            display: block;
   422	            animation: fadeIn 0.5s ease-in;
   423	        }
   424	
   425	        @keyframes fadeIn {
   426	            from { opacity: 0; transform: translateY(20px); }
   427	            to { opacity: 1; transform: translateY(0); }
   428	        }
   429	
   430	        .word-display {
   431	            background: #FFFFFF;
   432	            padding: 80px 40px;
   433	            border-radius: 25px;
   434	            margin-bottom: 30px;
   435	            box-shadow: 0 15px 40px rgba(0,0,0,0.1);
   436	            border: 4px solid #FF8C00;
   437	            font-size: 4rem;
   438	            font-weight: 800;
   439	            color: #FF8C00;
   440	            min-height: 250px;
   441	            display: flex;
   442	            align-items: center;
   443	            justify-content: center;
   444	            position: relative;
   445	        }
   446	
   447	        .black-screen {
   448	            background: #1F2937;
   449	            color: #9CA3AF;
   450	            padding: 80px 40px;
   451	            border-radius: 25px;
   452	            margin-bottom: 30px;
   453	            font-size: 5rem;
   454	            min-height: 250px;
   455	            display: none;
   456	            align-items: center;
   457	            justify-content: center;
   458	        }
   459	
   460	        .progress {
   461	            text-align: center;
   462	            font-size: 1.3rem;
   463	            font-weight: 600;
   464	            color: #6B7280;
   465	            padding: 25px;
   466	            background: #FFFFFF;
   467	            border-radius: 15px;
   468	            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
   469	            margin-bottom: 30px;
   470	        }
   471	
   472	        .progress-bar {
   473	            background: #f0f0f0;
   474	            height: 12px;
   475	            border-radius: 6px;
   476	            margin-top: 15px;
   477	            overflow: hidden;
   478	        }
   479	
   480	        .progress-fill {
   481	            background: linear-gradient(90deg, #FF8C00, #FFA500);
   482	            height: 100%;
   483	            border-radius: 6px;
   484	            width: 0%;
   485	            transition: width 0.3s;
   486	        }
   487	
   488	        .time-display {
   489	            position: absolute;
   490	            top: 20px;
   491	            right: 20px;
   492	            background: rgba(255, 140, 0, 0.1);
   493	            color: #FF8C00;
   494	            padding: 10px 20px;
   495	            border-radius: 20px;
   496	            font-size: 1.2rem;
   497	            font-weight: 600;
   498	        }
   499	
   500	        .next-btn {
   501	            background: #10B981;
   502	            color: white;
   503	            padding: 15px 30px;
   504	            border: none;
   505	            border-radius: 12px;
   506	            font-size: 1.1rem;
   507	            font-weight: 600;
   508	            cursor: pointer;
   509	            margin-top: 20px;
   510	            transition: all 0.3s;
   511	            display: none;
   512	        }
   513	
   514	        .next-btn:hover {
   515	            background: #059669;
   516	            transform: translateY(-2px);
   517	        }
   518	
   519	        .next-btn.show {
   520	            display: inline-block;
   521	            animation: slideUp 0.3s ease-out;
   522	        }
   523	
   524	        @keyframes slideUp {
   525	            from { opacity: 0; transform: translateY(20px); }
   526	            to { opacity: 1; transform: translateY(0); }
   527	        }
   528	
   529	        /* ì™„ë£Œ í™”ë©´ */
   530	        .complete-screen {
   531	            display: none;
   532	            text-align: center;
   533	            padding: 40px;
   534	        }
   535	
   536	        .complete-screen.active {
   537	            display: block;
   538	            animation: fadeIn 0.5s ease-in;
   539	        }
   540	
   541	        .complete-box {
   542	            background: #FFFFFF;
   543	            padding: 50px;
   544	            border-radius: 25px;
   545	            box-shadow: 0 15px 40px rgba(0,0,0,0.1);
   546	        }
   547	
   548	        .complete-title {
   549	            font-size: 3rem;
   550	            color: #FF8C00;
   551	            margin-bottom: 30px;
   552	        }
   553	
   554	        .complete-message {
   555	            font-size: 1.5rem;
   556	            color: #6B7280;
   557	            margin-bottom: 40px;
   558	        }
   559	
   560	        .answer-btn {
   561	            background: #10B981;
   562	            color: white;
   563	            padding: 20px 40px;
   564	            border: none;
   565	            border-radius: 12px;
   566	            font-size: 1.2rem;
   567	            font-weight: 600;
   568	            cursor: pointer;
   569	            margin: 10px;
   570	            transition: all 0.3s;
   571	        }
   572	
   573	        .answer-btn:hover {
   574	            background: #059669;
   575	            transform: translateY(-2px);
   576	        }
   577	
   578	        .restart-btn {
   579	            background: #FF8C00;
   580	            color: white;
   581	            padding: 20px 40px;
   582	            border: none;
   583	            border-radius: 12px;
   584	            font-size: 1.2rem;
   585	            font-weight: 600;
   586	            cursor: pointer;
   587	            margin: 10px;
   588	            transition: all 0.3s;
   589	        }
   590	
   591	        .restart-btn:hover {
   592	            background: #E6780A;
   593	            transform: translateY(-2px);
   594	        }
   595	
   596	        /* ì •ë‹µ í™”ë©´ */
   597	        .answer-screen {
   598	            display: none;
   599	            padding: 40px;
   600	        }
   601	
   602	        .answer-screen.active {
   603	            display: block;
   604	            animation: fadeIn 0.5s ease-in;
   605	        }
   606	
   607	        .answer-table {
   608	            background: #FFFFFF;
   609	            border-radius: 15px;
   610	            overflow: hidden;
   611	            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
   612	        }
   613	
   614	        .answer-table table {
   615	            width: 100%;
   616	            border-collapse: collapse;
   617	        }
   618	
   619	        .answer-table th {
   620	            background: #FF8C00;
   621	            color: white;
   622	            padding: 20px;
   623	            text-align: left;
   624	            font-weight: 600;
   625	        }
   626	
   627	        .answer-table td {
   628	            padding: 15px 20px;
   629	            border-bottom: 1px solid #F3F4F6;
   630	        }
   631	
   632	        .answer-table tr:hover {
   633	            background: #FFF7ED;
   634	        }
   635	
   636	        .back-btn {
   637	            background: #6B7280;
   638	            color: white;
   639	            padding: 15px 30px;
   640	            border: none;
   641	            border-radius: 10px;
   642	            font-size: 1.1rem;
   643	            cursor: pointer;
   644	            margin-bottom: 20px;
   645	            transition: all 0.3s;
   646	        }
   647	
   648	        .back-btn:hover {
   649	            background: #4B5563;
   650	        }
   651	
   652	        /* ëª¨ë°”ì¼ ìµœì í™” */
   653	        @media (max-width: 768px) {
   654	            .container {
   655	                padding: 10px;
   656	            }
   657	            
   658	            .header h1 {
   659	                font-size: 2rem;
   660	            }
   661	            
   662	            .word-display {
   663	                font-size: 2.5rem;
   664	                padding: 50px 20px;
   665	                min-height: 180px;
   666	            }
   667	            
   668	            .range-selection {
   669	                flex-direction: column;
   670	                gap: 20px;
   671	            }
   672	
   673	            .test-type {
   674	                flex-direction: column;
   675	            }
   676	
   677	            .checkbox-grid {
   678	                grid-template-columns: repeat(auto-fill, minmax(60px, 1fr));
   679	            }
   680	
   681	            .sound-toggle {
   682	                width: 40px;
   683	                height: 40px;
   684	                font-size: 1.2rem;
   685	            }
   686	
   687	            .favorites-list {
   688	                overflow-x: auto;
   689	                flex-wrap: nowrap;
   690	                padding-bottom: 10px;
   691	            }
   692	        }
   693	
   694	        .star-btn {
   695	            background: none;
   696	            border: none;
   697	            color: #FFC107;
   698	            cursor: pointer;
   699	            font-size: 1.2rem;
   700	            padding: 0 5px;
   701	        }
   702	
   703	        .star-btn:hover {
   704	            transform: scale(1.2);
   705	        }
   706	
   707	        .loading-message {
   708	            text-align: center;
   709	            color: #6B7280;
   710	            padding: 20px;
   711	            font-style: italic;
   712	        }
   713	
   714	        .error-message {
   715	            background: #FEE2E2;
   716	            color: #DC2626;
   717	            padding: 15px;
   718	            border-radius: 10px;
   719	            margin-top: 15px;
   720	            border-left: 4px solid #DC2626;
   721	        }
   722	    </style>
   723	</head>
   724	<body>
   725	    <div class="container">
   726	        <!-- í—¤ë” -->
   727	        <header class="header">
   728	            <button id="soundToggle" class="sound-toggle" title="ì†Œë¦¬ ì¼œê¸°/ë„ê¸°"><i class="fas fa-volume-up"></i></button>
   729	            <h1><i class="fas fa-robot"></i> VOCA AI</h1>
   730	            <p>ì˜ì–´ë°œì „ì†Œ ìŠ¤ë§ˆíŠ¸ ë‹¨ì–´ í•™ìŠµ ì‹œìŠ¤í…œ</p>
   731	        </header>
   732	
   733	        <!-- ì„¤ì • í™”ë©´ -->
   734	        <div id="settingScreen" class="setting-box">
   735	            
   736	            <!-- ì¦ê²¨ì°¾ê¸° -->
   737	            <div class="setting-section">
   738	                <h2><i class="fas fa-star"></i> ì¦ê²¨ì°¾ê¸°</h2>
   739	                <div class="favorites-container">
   740	                    <div class="favorites-list" id="favoritesList">
   741	                        <!-- ì¦ê²¨ì°¾ê¸° ëª©ë¡ì´ ì—¬ê¸°ì— ë™ì ìœ¼ë¡œ ìƒì„±ë©ë‹ˆë‹¤ -->
   742	                    </div>
   743	                    <div id="noFavorites" class="text-gray-500" style="display: none;">
   744	                        <i class="fas fa-info-circle"></i> ìì£¼ ì‚¬ìš©í•˜ëŠ” ë‹¨ì–´ì¥ì„ ì¦ê²¨ì°¾ê¸°ì— ì¶”ê°€í•´ë³´ì„¸ìš”!
   745	                    </div>
   746	                </div>
   747	            </div>
   748	
   749	            <!-- ë‹¨ì–´ì¥ ì„ íƒ -->
   750	            <div class="setting-section">
   751	                <h2><i class="fas fa-book"></i> ë‹¨ì–´ì¥ ì„ íƒ</h2>
   752	                
   753	                <!-- ê²€ìƒ‰ -->
   754	                <div class="search-container">
   755	                    <div class="relative">
   756	                        <input type="text" id="searchInput" class="search-input" placeholder="ğŸ” ë‹¨ì–´ì¥ ê²€ìƒ‰... (ì˜ˆ: ì›Œë“œë§ˆìŠ¤í„°, ì¤‘1, ì²œì¬, 6ì›”)">
   757	                        <div id="searchResults" class="search-results">
   758	                            <!-- ê²€ìƒ‰ ê²°ê³¼ê°€ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤ -->
   759	                        </div>
   760	                    </div>
   761	                </div>
   762	
   763	                <!-- PCìš© ì¹´í…Œê³ ë¦¬ ë“œë¡­ë‹¤ìš´ -->
   764	                <div class="pc-selection">
   765	                    <div class="category-dropdown">
   766	                        <button class="dropdown-button" data-category="commercial">
   767	                            <span><i class="fas fa-store"></i> ì‹œì¤‘ë‹¨ì–´ì¥</span>
   768	                            <i class="fas fa-chevron-down"></i>
   769	                        </button>
   770	                        <div class="dropdown-menu" id="commercialDropdown">
   771	                            <div class="loading-message"><i class="fas fa-spinner fa-spin"></i> ë‹¨ì–´ì¥ ëª©ë¡ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘...</div>
   772	                        </div>
   773	                    </div>
   774	
   775	                    <div class="category-dropdown">
   776	                        <button class="dropdown-button" data-category="middle">
   777	                            <span><i class="fas fa-book"></i> ì¤‘ë“±êµê³¼ì„œ</span>
   778	                            <i class="fas fa-chevron-down"></i>
   779	                        </button>
   780	                        <div class="dropdown-menu" id="middleDropdown">
   781	                            <div class="loading-message"><i class="fas fa-spinner fa-spin"></i> ë‹¨ì–´ì¥ ëª©ë¡ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘...</div>
   782	                        </div>
   783	                    </div>
   784	
   785	                    <div class="category-dropdown">
   786	                        <button class="dropdown-button" data-category="high">
   787	                            <span><i class="fas fa-graduation-cap"></i> ê³ ë“±êµê³¼ì„œ</span>
   788	                            <i class="fas fa-chevron-down"></i>
   789	                        </button>
   790	                        <div class="dropdown-menu" id="highDropdown">
   791	                            <div class="loading-message"><i class="fas fa-spinner fa-spin"></i> ë‹¨ì–´ì¥ ëª©ë¡ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘...</div>
   792	                        </div>
   793	                    </div>
   794	
   795	                    <div class="category-dropdown">
   796	                        <button class="dropdown-button" data-category="mock">
   797	                            <span><i class="fas fa-file-alt"></i> ëª¨ì˜ê³ ì‚¬</span>
   798	                            <i class="fas fa-chevron-down"></i>
   799	                        </button>
   800	                        <div class="dropdown-menu" id="mockDropdown">
   801	                            <div class="loading-message"><i class="fas fa-spinner fa-spin"></i> ë‹¨ì–´ì¥ ëª©ë¡ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘...</div>
   802	                        </div>
   803	                    </div>
   804	                </div>
   805	
   806	                <div style="margin-top: 20px; padding: 15px; background: #F0F9FF; border-radius: 10px; border-left: 4px solid #FF8C00;">
   807	                    <strong style="color: #FF8C00;">ì„ íƒëœ ë‹¨ì–´ì¥:</strong> 
   808	                    <span id="selectedTextbook" style="color: #374151;">ì„ íƒëœ ë‹¨ì–´ì¥ì´ ì—†ìŠµë‹ˆë‹¤</span>
   809	                </div>
   810	            </div>
   811	
   812	            <!-- ë²”ìœ„ ì„ íƒ -->
   813	            <div class="setting-section">
   814	                <h2><i class="fas fa-list-ol"></i> ë²”ìœ„ ì„ íƒ</h2>
   815	                <div class="range-selection">
   816	                    <div class="range-method">
   817	                        <h3 style="color: #374151; margin-bottom: 15px;"><i class="fas fa-sliders-h"></i> ë²”ìœ„ ì§€ì •</h3>
   818	                        <div class="range-inputs">
   819	                            <input type="number" id="startRange" min="1" max="50" value="1" placeholder="ì‹œì‘">
   820	                            <span style="color: #6B7280; font-weight: 600;">~</span>
   821	                            <input type="number" id="endRange" min="1" max="50" value="5" placeholder="ë">
   822	                            <button onclick="applyRange()">ì ìš©</button>
   823	                        </div>
   824	                    </div>
   825	                    
   826	                    <div class="range-method">
   827	                        <h3 style="color: #374151; margin-bottom: 15px;"><i class="fas fa-check-square"></i> ê°œë³„ ì„ íƒ</h3>
   828	                        <div class="checkbox-grid" id="dayCheckboxes">
   829	                            <!-- Day ì²´í¬ë°•ìŠ¤ë“¤ì´ ì—¬ê¸°ì— ë™ì ìœ¼ë¡œ ìƒì„±ë©ë‹ˆë‹¤ -->
   830	                        </div>
   831	                    </div>
   832	                </div>
   833	                
   834	                <div style="margin-top: 20px; padding: 15px; background: #F0F9FF; border-radius: 10px; border-left: 4px solid #FF8C00;">
   835	                    <strong style="color: #FF8C00;">ì„ íƒëœ ë²”ìœ„:</strong> 
   836	                    <span id="selectedRange" style="color: #374151;">Day 1, Day 2, Day 3, Day 4, Day 5</span>
   837	                </div>
   838	            </div>
   839	
   840	            <!-- ë‹¨ì–´ ìœ í˜• ì„ íƒ -->
   841	            <div class="setting-section">
   842	                <h2><i class="fas fa-layer-group"></i> ë‹¨ì–´ ìœ í˜•</h2>
   843	                <div class="test-type">
   844	                    <label class="test-option">
   845	                        <input type="radio" name="wordType" value="main" checked>
   846	                        <div class="test-option-content">
   847	                            <div class="test-option-title"><i class="fas fa-star"></i> ë©”ì¸ë‹¨ì–´ë§Œ</div>
   848	                            <div class="test-option-desc">ì„ íƒí•œ Dayì˜ ë©”ì¸ ë‹¨ì–´ë§Œ ì¶œì œ</div>
   849	                        </div>
   850	                    </label>
   851	                    <label class="test-option">
   852	                        <input type="radio" name="wordType" value="plus">
   853	                        <div class="test-option-content">
   854	                            <div class="test-option-title"><i class="fas fa-plus-circle"></i> íŒŒìƒì–´(PLUS) í¬í•¨</div>
   855	                            <div class="test-option-desc">ë©”ì¸ ë‹¨ì–´ + íŒŒìƒì–´ ëª¨ë‘ ì„ì–´ì„œ ì¶œì œ</div>
   856	                        </div>
   857	                    </label>
   858	                </div>
   859	            </div>
   860	
   861	            <!-- í…ŒìŠ¤íŠ¸ ìœ í˜• -->
   862	            <div class="setting-section">
   863	                <h2><i class="fas fa-target"></i> í…ŒìŠ¤íŠ¸ ìœ í˜•</h2>
   864	                <div class="test-type">
   865	                    <label class="test-option">
   866	                        <input type="radio" name="testType" value="meaning" checked>
   867	                        <div class="test-option-content">
   868	                            <div class="test-option-title"><i class="fas fa-book-open"></i> í•œê¸€ëœ» í…ŒìŠ¤íŠ¸</div>
   869	                            <div class="test-option-desc">ì˜ì–´ ë‹¨ì–´ 3ì´ˆ â†’ í•œê¸€ ëœ» ì“°ê¸° 4ì´ˆ</div>
   870	                        </div>
   871	                    </label>
   872	                    <label class="test-option">
   873	                        <input type="radio" name="testType" value="spelling">
   874	                        <div class="test-option-content">
   875	                            <div class="test-option-title"><i class="fas fa-pencil-alt"></i> ìŠ¤í ë§ í…ŒìŠ¤íŠ¸</div>
   876	                            <div class="test-option-desc">í•œê¸€ ëœ» 3ì´ˆ â†’ ì˜ì–´ ë‹¨ì–´ ì“°ê¸° 6ì´ˆ</div>
   877	                        </div>
   878	                    </label>
   879	                </div>
   880	            </div>
   881	
   882	            <button id="startTest" class="start-btn" disabled><i class="fas fa-rocket"></i> í…ŒìŠ¤íŠ¸ ì‹œì‘ (ëœë¤ 30ë¬¸ì œ)</button>
   883	        </div>
   884	
   885	        <!-- í…ŒìŠ¤íŠ¸ í™”ë©´ -->
   886	        <div id="testScreen" class="test-screen">
   887	            <div class="progress">
   888	                ë¬¸ì œ <span id="currentQuestion">1</span> / 30
   889	                <div class="progress-bar">
   890	                    <div id="progressBar" class="progress-fill"></div>
   891	                </div>
   892	            </div>
   893	
   894	            <div id="wordDisplay" class="word-display">
   895	                <div class="time-display" id="timeDisplay">3</div>
   896	                ì¤€ë¹„ ì¤‘...
   897	            </div>
   898	            <div id="blackScreen" class="black-screen"><i class="fas fa-brain"></i></div>
   899	            
   900	            <button id="nextBtn" class="next-btn"><i class="fas fa-arrow-right"></i> ë‹¤ìŒ ë¬¸ì œ</button>
   901	        </div>
   902	
   903	        <!-- ì™„ë£Œ í™”ë©´ -->
   904	        <div id="completeScreen" class="complete-screen">
   905	            <div class="complete-box">
   906	                <div class="complete-title"><i class="fas fa-trophy"></i> í…ŒìŠ¤íŠ¸ ì™„ë£Œ!</div>
   907	                <div class="complete-message">30ë¬¸ì œê°€ ëª¨ë‘ ëë‚¬ìŠµë‹ˆë‹¤.<br>ìˆ˜ê³ í•˜ì…¨ìŠµë‹ˆë‹¤!</div>
   908	                <button id="showAnswers" class="answer-btn"><i class="fas fa-list"></i> ì •ë‹µ í™•ì¸í•˜ê¸°</button>
   909	                <button id="restartTest" class="restart-btn"><i class="fas fa-redo"></i> ë‹¤ì‹œ í…ŒìŠ¤íŠ¸</button>
   910	            </div>
   911	        </div>
   912	
   913	        <!-- ì •ë‹µ í™”ë©´ -->
   914	        <div id="answerScreen" class="answer-screen">
   915	            <button id="backToComplete" class="back-btn"><i class="fas fa-arrow-left"></i> ëŒì•„ê°€ê¸°</button>
   916	            <div class="answer-table">
   917	                <table>
   918	                    <thead>
   919	                        <tr>
   920	                            <th>ë²ˆí˜¸</th>
   921	                            <th>ì˜ì–´ ë‹¨ì–´</th>
   922	                            <th>í•œê¸€ ëœ»</th>
   923	                            <th>Day</th>
   924	                        </tr>
   925	                    </thead>
   926	                    <tbody id="answerTableBody">
   927	                        <!-- ì •ë‹µ ëª©ë¡ì´ ì—¬ê¸°ì— ë™ì ìœ¼ë¡œ ìƒì„±ë©ë‹ˆë‹¤ -->
   928	                    </tbody>
   929	                </table>
   930	            </div>
   931	        </div>
   932	    </div>
   933	
   934	    <script>
   935	        // VOCA AI - GitHub CSV ìë™ ë¡œë“œ ë²„ì „
   936	        let currentTest = {
   937	            words: [],
   938	            currentIndex: 0,
   939	            testType: 'meaning',
   940	            wordType: 'main', // 'main' ë˜ëŠ” 'plus'
   941	            selectedDays: [1, 2, 3, 4, 5],
   942	            selectedTextbook: '',
   943	            selectedTextbookId: '',
   944	            soundEnabled: true,
   945	            loadedWords: [],
   946	            minDay: 1,
   947	            maxDay: 50
   948	        };
   949	
   950	        let currentTimer = null;
   951	        let currentTimeLeft = 0;
   952	        let favorites = JSON.parse(localStorage.getItem('vocaAIFavorites') || '[]');
   953	        let availableTextbooks = [];
   954	
   955	        // íŒŒì¼ëª… â†’ í•œê¸€ ì´ë¦„ ë§¤í•‘
   956	        const textbookNameMapping = {
   957	            // ì‹œì¤‘ë‹¨ì–´ì¥
   958	            'wordmaster_sunung2000_2022': 'ì›Œë“œë§ˆìŠ¤í„° ìˆ˜ëŠ¥2000 (2022ë…„)',
   959	            'wordmaster_sunung2000_2019': 'ì›Œë“œë§ˆìŠ¤í„° ìˆ˜ëŠ¥2000 (2019ë…„)',
   960	            'wordmaster_jungeung_basic': 'ì›Œë“œë§ˆìŠ¤í„° ì¤‘ë“± ê¸°ì´ˆ',
   961	            'wordmaster_jungeung_silryeok_2022': 'ì›Œë“œë§ˆìŠ¤í„° ì¤‘ë“± ì‹¤ë ¥ (2022ë…„)',
   962	            'wordmaster_jungeung_goneando': 'ì›Œë“œë§ˆìŠ¤í„° ì¤‘ë“± ê³ ë‚œë„',
   963	            'wordmaster_middle_2022': 'ì›Œë“œë§ˆìŠ¤í„° ì¤‘ë“± ì‹¤ë ¥ (2022ë…„)',
   964	            
   965	            // ì¤‘ë“±êµê³¼ì„œ (ì˜ˆì‹œ)
   966	            'middle1_chunjae': 'ì¤‘1 ì²œì¬êµìœ¡',
   967	            'middle1_donga': 'ì¤‘1 ë™ì•„ì¶œíŒ',
   968	            'middle1_bisang': 'ì¤‘1 ë¹„ìƒêµìœ¡',
   969	            'middle2_chunjae': 'ì¤‘2 ì²œì¬êµìœ¡',
   970	            'middle2_donga': 'ì¤‘2 ë™ì•„ì¶œíŒ',
   971	            'middle3_chunjae': 'ì¤‘3 ì²œì¬êµìœ¡',
   972	            
   973	            // ê³ ë“±êµê³¼ì„œ (ì˜ˆì‹œ)
   974	            'high1_chunjae': 'ê³ 1 ì²œì¬êµìœ¡',
   975	            'high1_donga': 'ê³ 1 ë™ì•„ì¶œíŒ',
   976	            'high2_chunjae': 'ê³ 2 ì²œì¬êµìœ¡',
   977	            'high3_chunjae': 'ê³ 3 ì²œì¬êµìœ¡',
   978	            
   979	            // ëª¨ì˜ê³ ì‚¬ (ì˜ˆì‹œ)
   980	            'mock_2024_03_high1': '2024ë…„ 3ì›” ê³ 1 ëª¨ì˜ê³ ì‚¬',
   981	            'mock_2024_06_high1': '2024ë…„ 6ì›” ê³ 1 ëª¨ì˜ê³ ì‚¬',
   982	            'mock_2024_09_high2': '2024ë…„ 9ì›” ê³ 2 ëª¨ì˜ê³ ì‚¬',
   983	            'mock_2024_11_high3': '2024ë…„ 11ì›” ê³ 3 ëª¨ì˜ê³ ì‚¬'
   984	        };
   985	
   986	        // íŒŒì¼ëª…ìœ¼ë¡œ ì¹´í…Œê³ ë¦¬ íŒë³„
   987	        function getCategoryFromFileName(fileName) {
   988	            const fileId = fileName.replace('.csv', '');
   989	            
   990	            // ì‹œì¤‘ë‹¨ì–´ì¥
   991	            if (fileId.includes('wordmaster') || fileId.includes('voca')) {
   992	                return 'commercial';
   993	            }
   994	            
   995	            // ì¤‘ë“±êµê³¼ì„œ
   996	            if (fileId.includes('middle') && !fileId.includes('wordmaster')) {
   997	                return 'middle';
   998	            }
   999	            
  1000	            // ê³ ë“±êµê³¼ì„œ
  1001	            if (fileId.includes('high') && !fileId.includes('mock')) {
  1002	                return 'high';
  1003	            }
  1004	            
  1005	            // ëª¨ì˜ê³ ì‚¬
  1006	            if (fileId.includes('mock')) {
  1007	                return 'mock';
  1008	            }
  1009	            
  1010	            // ê¸°ë³¸ê°’: ì‹œì¤‘ë‹¨ì–´ì¥
  1011	            return 'commercial';
  1012	        }
  1013	
  1014	        // íš¨ê³¼ìŒ ì‹œìŠ¤í…œ
  1015	        const soundEffects = {
  1016	            wordShow: () => playBeep(800, 150),
  1017	            wordHide: () => playBeep(400, 150),
  1018	            timeUp: () => playBeep(600, 300),
  1019	            complete: () => playBeep(1000, 500)
  1020	        };
  1021	
  1022	        // ë¹„í”„ ì‚¬ìš´ë“œ ìƒì„±
  1023	        function playBeep(frequency, duration) {
  1024	            if (!currentTest.soundEnabled) return;
  1025	            
  1026	            try {
  1027	                const audioContext = new (window.AudioContext || window.webkitAudioContext)();
  1028	                const oscillator = audioContext.createOscillator();
  1029	                const gainNode = audioContext.createGain();
  1030	                
  1031	                oscillator.connect(gainNode);
  1032	                gainNode.connect(audioContext.destination);
  1033	                
  1034	                oscillator.frequency.value = frequency;
  1035	                oscillator.type = 'sine';
  1036	                
  1037	                gainNode.gain.setValueAtTime(0.3, audioContext.currentTime);
  1038	                gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + duration / 1000);
  1039	                
  1040	                oscillator.start(audioContext.currentTime);
  1041	                oscillator.stop(audioContext.currentTime + duration / 1000);
  1042	            } catch (error) {
  1043	                console.log('ì˜¤ë””ì˜¤ ì¬ìƒ ì˜¤ë¥˜:', error);
  1044	            }
  1045	        }
  1046	
  1047	        // GitHub APIë¡œ CSV íŒŒì¼ ëª©ë¡ ê°€ì ¸ì˜¤ê¸°
  1048	        async function loadAvailableTextbooks() {
  1049	            try {
  1050	                const response = await fetch('https://api.github.com/repos/eplant0703/eplant/contents/data');
  1051	                
  1052	                if (!response.ok) {
  1053	                    throw new Error('GitHub API ìš”ì²­ ì‹¤íŒ¨');
  1054	                }
  1055	                
  1056	                const files = await response.json();
  1057	                
  1058	                // CSV íŒŒì¼ë§Œ í•„í„°ë§í•˜ê³  ì¹´í…Œê³ ë¦¬ë³„ë¡œ ë¶„ë¥˜
  1059	                availableTextbooks = files
  1060	                    .filter(file => file.name.endsWith('.csv'))
  1061	                    .map(file => {
  1062	                        const fileId = file.name.replace('.csv', '');
  1063	                        const koreanName = textbookNameMapping[fileId] || fileId;
  1064	                        const category = getCategoryFromFileName(file.name);
  1065	                        
  1066	                        return {
  1067	                            id: fileId,
  1068	                            name: koreanName,
  1069	                            fileName: file.name,
  1070	                            downloadUrl: file.download_url,
  1071	                            category: category
  1072	                        };
  1073	                    });
  1074	                
  1075	                console.log('âœ… ë‹¨ì–´ì¥ ëª©ë¡ ë¡œë“œ ì™„ë£Œ:', availableTextbooks);
  1076	                updateAllDropdowns();
  1077	                
  1078	            } catch (error) {
  1079	                console.error('âŒ ë‹¨ì–´ì¥ ëª©ë¡ ë¡œë“œ ì‹¤íŒ¨:', error);
  1080	                document.getElementById('commercialDropdown').innerHTML = 
  1081	                    '<div class="error-message"><i class="fas fa-exclamation-triangle"></i> ë‹¨ì–´ì¥ ëª©ë¡ì„ ë¶ˆëŸ¬ì˜¬ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.</div>';
  1082	                document.getElementById('middleDropdown').innerHTML = 
  1083	                    '<div class="error-message"><i class="fas fa-exclamation-triangle"></i> ë‹¨ì–´ì¥ ëª©ë¡ì„ ë¶ˆëŸ¬ì˜¬ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.</div>';
  1084	                document.getElementById('highDropdown').innerHTML = 
  1085	                    '<div class="error-message"><i class="fas fa-exclamation-triangle"></i> ë‹¨ì–´ì¥ ëª©ë¡ì„ ë¶ˆëŸ¬ì˜¬ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.</div>';
  1086	                document.getElementById('mockDropdown').innerHTML = 
  1087	                    '<div class="error-message"><i class="fas fa-exclamation-triangle"></i> ë‹¨ì–´ì¥ ëª©ë¡ì„ ë¶ˆëŸ¬ì˜¬ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.</div>';
  1088	            }
  1089	        }
  1090	
  1091	        // ëª¨ë“  ë“œë¡­ë‹¤ìš´ ì—…ë°ì´íŠ¸
  1092	        function updateAllDropdowns() {
  1093	            updateDropdownByCategory('commercial');
  1094	            updateDropdownByCategory('middle');
  1095	            updateDropdownByCategory('high');
  1096	            updateDropdownByCategory('mock');
  1097	        }
  1098	
  1099	        // ì¹´í…Œê³ ë¦¬ë³„ ë“œë¡­ë‹¤ìš´ ì—…ë°ì´íŠ¸
  1100	        function updateDropdownByCategory(category) {
  1101	            const dropdown = document.getElementById(category + 'Dropdown');
  1102	            const textbooks = availableTextbooks.filter(t => t.category === category);
  1103	            
  1104	            if (textbooks.length === 0) {
  1105	                const categoryNames = {
  1106	                    commercial: 'ì‹œì¤‘ë‹¨ì–´ì¥',
  1107	                    middle: 'ì¤‘ë“±êµê³¼ì„œ',
  1108	                    high: 'ê³ ë“±êµê³¼ì„œ',
  1109	                    mock: 'ëª¨ì˜ê³ ì‚¬'
  1110	                };
  1111	                dropdown.innerHTML = `<div class="loading-message"><i class="fas fa-folder-open"></i> ë“±ë¡ëœ ${categoryNames[category]}ì´(ê°€) ì—†ìŠµë‹ˆë‹¤.</div>`;
  1112	                return;
  1113	            }
  1114	            
  1115	            dropdown.innerHTML = textbooks.map(textbook => 
  1116	                `<div class="dropdown-item" onclick="selectTextbookById('${textbook.id}')">
  1117	                    <span>${textbook.name}</span>
  1118	                    <button class="star-btn" onclick="event.stopPropagation(); addToFavorites('${textbook.name}')" title="ì¦ê²¨ì°¾ê¸° ì¶”ê°€">
  1119	                        <i class="fas fa-star"></i>
  1120	                    </button>
  1121	                 </div>`
  1122	            ).join('');
  1123	        }
  1124	
  1125	        // ë‹¨ì–´ì¥ ì„ íƒ (IDë¡œ)
  1126	        async function selectTextbookById(textbookId) {
  1127	            const textbook = availableTextbooks.find(t => t.id === textbookId);
  1128	            
  1129	            if (!textbook) {
  1130	                alert('ë‹¨ì–´ì¥ì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.');
  1131	                return;
  1132	            }
  1133	            
  1134	            currentTest.selectedTextbook = textbook.name;
  1135	            currentTest.selectedTextbookId = textbook.id;
  1136	            updateSelectedTextbook();
  1137	            
  1138	            // CSV íŒŒì¼ ë¡œë“œ
  1139	            await loadCSVFile(textbook.downloadUrl);
  1140	            
  1141	            // ë“œë¡­ë‹¤ìš´ ë‹«ê¸°
  1142	            closeAllDropdowns();
  1143	        }
  1144	
  1145	        // CSV íŒŒì¼ ë¡œë“œ
  1146	        async function loadCSVFile(url) {
  1147	            try {
  1148	                console.log('ğŸ“¥ CSV ë¡œë“œ ì‹œì‘:', url);
  1149	                
  1150	                const response = await fetch(url);
  1151	                
  1152	                if (!response.ok) {
  1153	                    throw new Error('CSV íŒŒì¼ ë¡œë“œ ì‹¤íŒ¨');
  1154	                }
  1155	                
  1156	                const csvText = await response.text();
  1157	                const words = parseCSV(csvText);
  1158	                
  1159	                if (words.length === 0) {
  1160	                    throw new Error('ë‹¨ì–´ ë°ì´í„°ê°€ ë¹„ì–´ìˆìŠµë‹ˆë‹¤');
  1161	                }
  1162	                
  1163	                currentTest.loadedWords = words;
  1164	                
  1165	                // Day ë²”ìœ„ ê³„ì‚°
  1166	                const days = words.map(w => w.day);
  1167	                currentTest.minDay = Math.min(...days);
  1168	                currentTest.maxDay = Math.max(...days);
  1169	                
  1170	                console.log(`âœ… ${words.length}ê°œ ë‹¨ì–´ ë¡œë“œ ì™„ë£Œ (Day ${currentTest.minDay} ~ ${currentTest.maxDay})`);
  1171	                
  1172	                // Day ë²”ìœ„ ì—…ë°ì´íŠ¸
  1173	                document.getElementById('startRange').min = currentTest.minDay;
  1174	                document.getElementById('startRange').max = currentTest.maxDay;
  1175	                document.getElementById('endRange').min = currentTest.minDay;
  1176	                document.getElementById('endRange').max = currentTest.maxDay;
  1177	                document.getElementById('startRange').value = currentTest.minDay;
  1178	                document.getElementById('endRange').value = Math.min(currentTest.minDay + 4, currentTest.maxDay);
  1179	                
  1180	                generateDayCheckboxes();
  1181	                applyRange();
  1182	                updateStartButton();
  1183	                
  1184	            } catch (error) {
  1185	                console.error('âŒ CSV ë¡œë“œ ì‹¤íŒ¨:', error);
  1186	                alert('ë‹¨ì–´ì¥ íŒŒì¼ì„ ë¶ˆëŸ¬ì˜¬ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.\nê´€ë¦¬ìì—ê²Œ ë¬¸ì˜í•˜ì„¸ìš”.');
  1187	            }
  1188	        }
  1189	
  1190	        // CSV íŒŒì‹± (5ê°œ ì»¬ëŸ¼: Textbook,Day,Type,English,Korean)
  1191	        function parseCSV(csvText) {
  1192	            const lines = csvText.trim().split('\n');
  1193	            const words = [];
  1194	            
  1195	            for (let i = 1; i < lines.length; i++) {
  1196	                const line = lines[i].trim();
  1197	                if (!line) continue;
  1198	                
  1199	                const parts = line.split(',');
  1200	                
  1201	                if (parts.length < 5) continue;
  1202	                
  1203	                const textbook = parts[0].trim();
  1204	                const day = parseInt(parts[1]);
  1205	                const type = parts[2].trim(); // 'ë©”ì¸' ë˜ëŠ” 'íŒŒìƒì–´'
  1206	                const english = parts[3].trim();
  1207	                const korean = parts.slice(4).join(',').trim().replace(/^"|"$/g, '');
  1208	                
  1209	                if (!isNaN(day) && english && korean && type) {
  1210	                    words.push({ 
  1211	                        textbook,
  1212	                        day, 
  1213	                        type,
  1214	                        english, 
  1215	                        korean 
  1216	                    });
  1217	                }
  1218	            }
  1219	            
  1220	            return words;
  1221	        }
  1222	
  1223	        // í˜ì´ì§€ ë¡œë“œ
  1224	        document.addEventListener('DOMContentLoaded', function() {
  1225	            console.log('ğŸ¤– VOCA AI ì‹œì‘!');
  1226	            initializePage();
  1227	            setupEventListeners();
  1228	            loadAvailableTextbooks();
  1229	        });
  1230	
  1231	        // ì´ˆê¸°í™”
  1232	        function initializePage() {
  1233	            updateSelectedRange();
  1234	            updateStartButton();
  1235	            updateFavoritesList();
  1236	            updateSelectedTextbook();
  1237	        }
  1238	
  1239	        // ì´ë²¤íŠ¸ ì„¤ì •
  1240	        function setupEventListeners() {
  1241	            document.getElementById('startTest').addEventListener('click', startTest);
  1242	            document.getElementById('showAnswers').addEventListener('click', showAnswerScreen);
  1243	            document.getElementById('restartTest').addEventListener('click', () => location.reload());
  1244	            document.getElementById('backToComplete').addEventListener('click', () => showScreen('completeScreen'));
  1245	            document.getElementById('nextBtn').addEventListener('click', goToNextQuestion);
  1246	            document.getElementById('soundToggle').addEventListener('click', toggleSound);
  1247	
  1248	            // ê²€ìƒ‰ ê¸°ëŠ¥
  1249	            document.getElementById('searchInput').addEventListener('input', handleSearch);
  1250	            document.getElementById('searchInput').addEventListener('focus', showSearchResults);
  1251	            document.addEventListener('click', hideSearchResults);
  1252	
  1253	            // í…ŒìŠ¤íŠ¸ ìœ í˜• ì„ íƒ
  1254	            document.querySelectorAll('input[name="testType"]').forEach(radio => {
  1255	                radio.addEventListener('change', function() {
  1256	                    currentTest.testType = this.value;
  1257	                });
  1258	            });
  1259	
  1260	            // ë‹¨ì–´ ìœ í˜• ì„ íƒ
  1261	            document.querySelectorAll('input[name="wordType"]').forEach(radio => {
  1262	                radio.addEventListener('change', function() {
  1263	                    currentTest.wordType = this.value;
  1264	                    updateStartButton();
  1265	                });
  1266	            });
  1267	
  1268	            // ë²”ìœ„ ì…ë ¥
  1269	            document.getElementById('startRange').addEventListener('input', updateStartButton);
  1270	            document.getElementById('endRange').addEventListener('input', updateStartButton);
  1271	
  1272	            // ë“œë¡­ë‹¤ìš´ ë²„íŠ¼
  1273	            document.querySelectorAll('.dropdown-button').forEach(button => {
  1274	                button.addEventListener('click', (e) => {
  1275	                    e.stopPropagation();
  1276	                    const category = button.dataset.category;
  1277	                    toggleDropdown(category);
  1278	                });
  1279	            });
  1280	
  1281	            // ì™¸ë¶€ í´ë¦­ì‹œ ë“œë¡­ë‹¤ìš´ ë‹«ê¸°
  1282	            document.addEventListener('click', closeAllDropdowns);
  1283	        }
  1284	
  1285	        // ì†Œë¦¬ í† ê¸€
  1286	        function toggleSound() {
  1287	            currentTest.soundEnabled = !currentTest.soundEnabled;
  1288	            const button = document.getElementById('soundToggle');
  1289	            
  1290	            if (currentTest.soundEnabled) {
  1291	                button.innerHTML = '<i class="fas fa-volume-up"></i>';
  1292	                button.classList.remove('muted');
  1293	                button.title = 'ì†Œë¦¬ ë„ê¸°';
  1294	                soundEffects.wordShow();
  1295	            } else {
  1296	                button.innerHTML = '<i class="fas fa-volume-mute"></i>';
  1297	                button.classList.add('muted');
  1298	                button.title = 'ì†Œë¦¬ ì¼œê¸°';
  1299	            }
  1300	        }
  1301	
  1302	        // ì¦ê²¨ì°¾ê¸° ê´€ë ¨ í•¨ìˆ˜ë“¤
  1303	        function updateFavoritesList() {
  1304	            const favoritesList = document.getElementById('favoritesList');
  1305	            const noFavorites = document.getElementById('noFavorites');
  1306	            
  1307	            if (favorites.length === 0) {
  1308	                favoritesList.innerHTML = '';
  1309	                noFavorites.style.display = 'block';
  1310	            } else {
  1311	                noFavorites.style.display = 'none';
  1312	                favoritesList.innerHTML = favorites.map(fav => {
  1313	                    const textbook = availableTextbooks.find(t => t.name === fav);
  1314	                    const textbookId = textbook ? textbook.id : '';
  1315	                    
  1316	                    return `<div class="favorite-item" onclick="selectTextbookByName('${fav}')">
  1317	                        ${fav}
  1318	                        <span class="favorite-remove" onclick="event.stopPropagation(); removeFavorite('${fav}')">&times;</span>
  1319	                     </div>`;
  1320	                }).join('');
  1321	            }
  1322	        }
  1323	
  1324	        function selectTextbookByName(name) {
  1325	            const textbook = availableTextbooks.find(t => t.name === name);
  1326	            if (textbook) {
  1327	                selectTextbookById(textbook.id);
  1328	            }
  1329	        }
  1330	
  1331	        function addToFavorites(textbook) {
  1332	            if (!favorites.includes(textbook) && favorites.length < 7) {
  1333	                favorites.push(textbook);
  1334	                saveFavorites();
  1335	                updateFavoritesList();
  1336	            }
  1337	        }
  1338	
  1339	        function removeFavorite(textbook) {
  1340	            favorites = favorites.filter(fav => fav !== textbook);
  1341	            saveFavorites();
  1342	            updateFavoritesList();
  1343	        }
  1344	
  1345	        function saveFavorites() {
  1346	            localStorage.setItem('vocaAIFavorites', JSON.stringify(favorites));
  1347	        }
  1348	
  1349	        // ê²€ìƒ‰ ê¸°ëŠ¥
  1350	        function handleSearch(event) {
  1351	            const query = event.target.value.toLowerCase().trim();
  1352	            const searchResults = document.getElementById('searchResults');
  1353	            
  1354	            if (query.length === 0) {
  1355	                searchResults.style.display = 'none';
  1356	                return;
  1357	            }
  1358	
  1359	            const results = searchTextbooks(query);
  1360	            displaySearchResults(results);
  1361	        }
  1362	
  1363	        function searchTextbooks(query) {
  1364	            return availableTextbooks
  1365	                .filter(textbook => textbook.name.toLowerCase().includes(query))
  1366	                .slice(0, 10);
  1367	        }
  1368	
  1369	        function displaySearchResults(results) {
  1370	            const searchResults = document.getElementById('searchResults');
  1371	            
  1372	            if (results.length === 0) {
  1373	                searchResults.innerHTML = '<div class="search-result-item">ê²€ìƒ‰ ê²°ê³¼ê°€ ì—†ìŠµë‹ˆë‹¤.</div>';
  1374	            } else {
  1375	                searchResults.innerHTML = results.map(result => {
  1376	                    const categoryNames = {
  1377	                        commercial: 'ì‹œì¤‘ë‹¨ì–´ì¥',
  1378	                        middle: 'ì¤‘ë“±êµê³¼ì„œ',
  1379	                        high: 'ê³ ë“±êµê³¼ì„œ',
  1380	                        mock: 'ëª¨ì˜ê³ ì‚¬'
  1381	                    };
  1382	                    const categoryName = categoryNames[result.category] || result.category;
  1383	                    
  1384	                    return `<div class="search-result-item" onclick="selectTextbookById('${result.id}')">
  1385	                        <span>${result.name}</span>
  1386	                        <span class="search-result-category">${categoryName}</span>
  1387	                        <button class="star-btn" onclick="event.stopPropagation(); addToFavorites('${result.name}')" title="ì¦ê²¨ì°¾ê¸° ì¶”ê°€">
  1388	                            <i class="fas fa-star"></i>
  1389	                        </button>
  1390	                     </div>`;
  1391	                }).join('');
  1392	            }
  1393	            
  1394	            searchResults.style.display = 'block';
  1395	        }
  1396	
  1397	        function showSearchResults() {
  1398	            const searchResults = document.getElementById('searchResults');
  1399	            if (searchResults.innerHTML.trim() !== '') {
  1400	                searchResults.style.display = 'block';
  1401	            }
  1402	        }
  1403	
  1404	        function hideSearchResults(event) {
  1405	            const searchContainer = document.querySelector('.search-container');
  1406	            if (!searchContainer.contains(event.target)) {
  1407	                document.getElementById('searchResults').style.display = 'none';
  1408	            }
  1409	        }
  1410	
  1411	        // ë“œë¡­ë‹¤ìš´ ê´€ë¦¬
  1412	        function toggleDropdown(category) {
  1413	            const dropdown = document.getElementById(category + 'Dropdown');
  1414	            const button = document.querySelector(`[data-category="${category}"]`);
  1415	            const isAlreadyOpen = dropdown.style.display === 'block';
  1416	            
  1417	            closeAllDropdowns();
  1418	            
  1419	            if (!isAlreadyOpen) {
  1420	                dropdown.style.display = 'block';
  1421	                button.classList.add('active');
  1422	            }
  1423	        }
  1424	
  1425	        function closeAllDropdowns() {
  1426	            document.querySelectorAll('.dropdown-menu').forEach(menu => {
  1427	                menu.style.display = 'none';
  1428	            });
  1429	            document.querySelectorAll('.dropdown-button').forEach(button => {
  1430	                button.classList.remove('active');
  1431	            });
  1432	        }
  1433	
  1434	        // ì„ íƒëœ ë‹¨ì–´ì¥ í‘œì‹œ
  1435	        function updateSelectedTextbook() {
  1436	            const display = document.getElementById('selectedTextbook');
  1437	            display.textContent = currentTest.selectedTextbook || 'ì„ íƒëœ ë‹¨ì–´ì¥ì´ ì—†ìŠµë‹ˆë‹¤';
  1438	        }
  1439	
  1440	        // Day ì²´í¬ë°•ìŠ¤ ìƒì„±
  1441	        function generateDayCheckboxes() {
  1442	            const container = document.getElementById('dayCheckboxes');
  1443	            container.innerHTML = '';
  1444	            
  1445	            for (let i = currentTest.minDay; i <= currentTest.maxDay; i++) {
  1446	                const checkbox = document.createElement('label');
  1447	                checkbox.className = 'day-checkbox';
  1448	                checkbox.innerHTML = `
  1449	                    <input type="checkbox" value="${i}" ${currentTest.selectedDays.includes(i) ? 'checked' : ''}>
  1450	                    Day ${i}
  1451	                `;
  1452	                
  1453	                checkbox.querySelector('input').addEventListener('change', function() {
  1454	                    if (this.checked) {
  1455	                        if (!currentTest.selectedDays.includes(i)) {
  1456	                            currentTest.selectedDays.push(i);
  1457	                        }
  1458	                        checkbox.classList.add('checked');
  1459	                    } else {
  1460	                        currentTest.selectedDays = currentTest.selectedDays.filter(d => d !== i);
  1461	                        checkbox.classList.remove('checked');
  1462	                    }
  1463	                    currentTest.selectedDays.sort((a, b) => a - b);
  1464	                    updateSelectedRange();
  1465	                    updateStartButton();
  1466	                });
  1467	                
  1468	                if (currentTest.selectedDays.includes(i)) {
  1469	                    checkbox.classList.add('checked');
  1470	                }
  1471	                
  1472	                container.appendChild(checkbox);
  1473	            }
  1474	        }
  1475	
  1476	        // ë²”ìœ„ ì ìš©
  1477	        function applyRange() {
  1478	            const start = parseInt(document.getElementById('startRange').value);
  1479	            const end = parseInt(document.getElementById('endRange').value);
  1480	            
  1481	            if (start > end) {
  1482	                alert('ì‹œì‘ Dayê°€ ë Dayë³´ë‹¤ í´ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.');
  1483	                return;
  1484	            }
  1485	            
  1486	            currentTest.selectedDays = [];
  1487	            for (let i = start; i <= end; i++) {
  1488	                currentTest.selectedDays.push(i);
  1489	            }
  1490	            
  1491	            // ì²´í¬ë°•ìŠ¤ ì—…ë°ì´íŠ¸
  1492	            document.querySelectorAll('.day-checkbox input').forEach(checkbox => {
  1493	                const day = parseInt(checkbox.value);
  1494	                checkbox.checked = currentTest.selectedDays.includes(day);
  1495	                
  1496	                if (checkbox.checked) {
  1497	                    checkbox.parentElement.classList.add('checked');
  1498	                } else {
  1499	                    checkbox.parentElement.classList.remove('checked');
  1500	                }
  1501	            });
  1502	            
  1503	            updateSelectedRange();
  1504	            updateStartButton();
  1505	        }
  1506	
  1507	        // ì„ íƒëœ ë²”ìœ„ í‘œì‹œ
  1508	        function updateSelectedRange() {
  1509	            const display = document.getElementById('selectedRange');
  1510	            
  1511	            if (currentTest.selectedDays.length === 0) {
  1512	                display.textContent = 'ì„ íƒëœ ë²”ìœ„ê°€ ì—†ìŠµë‹ˆë‹¤';
  1513	                return;
  1514	            }
  1515	            
  1516	            const sorted = [...currentTest.selectedDays].sort((a, b) => a - b);
  1517	            
  1518	            if (sorted.length <= 5) {
  1519	                display.textContent = sorted.map(d => `Day ${d}`).join(', ');
  1520	            } else {
  1521	                display.textContent = `Day ${sorted[0]} ~ Day ${sorted[sorted.length - 1]} (${sorted.length}ê°œ)`;
  1522	            }
  1523	        }
  1524	
  1525	        // ì‹œì‘ ë²„íŠ¼ í™œì„±í™”
  1526	        function updateStartButton() {
  1527	            const button = document.getElementById('startTest');
  1528	            const hasTextbook = currentTest.loadedWords.length > 0;
  1529	            const hasDays = currentTest.selectedDays.length > 0;
  1530	            
  1531	            if (hasTextbook && hasDays) {
  1532	                // ë‹¨ì–´ ìœ í˜•ì— ë”°ë¼ í•„í„°ë§
  1533	                let filteredWords = currentTest.loadedWords.filter(word => 
  1534	                    currentTest.selectedDays.includes(word.day)
  1535	                );
  1536	                
  1537	                // ë©”ì¸ë‹¨ì–´ë§Œ ì„ íƒ ì‹œ
  1538	                if (currentTest.wordType === 'main') {
  1539	                    filteredWords = filteredWords.filter(word => 
  1540	                        word.type === 'ë©”ì¸'
  1541	                    );
  1542	                }
  1543	                // íŒŒìƒì–´ í¬í•¨ ì‹œ: ë©”ì¸ + íŒŒìƒì–´ ëª¨ë‘
  1544	                
  1545	                if (filteredWords.length >= 30) {
  1546	                    button.disabled = false;
  1547	                    button.innerHTML = `<i class="fas fa-rocket"></i> í…ŒìŠ¤íŠ¸ ì‹œì‘ (ëœë¤ 30ë¬¸ì œ)`;
  1548	                } else {
  1549	                    button.disabled = true;
  1550	                    button.innerHTML = `<i class="fas fa-exclamation-triangle"></i> ìµœì†Œ 30ê°œ ë‹¨ì–´ í•„ìš” (í˜„ì¬ ${filteredWords.length}ê°œ)`;
  1551	                }
  1552	            } else {
  1553	                button.disabled = true;
  1554	                button.innerHTML = '<i class="fas fa-rocket"></i> í…ŒìŠ¤íŠ¸ ì‹œì‘ (ëœë¤ 30ë¬¸ì œ)';
  1555	            }
  1556	        }
  1557	
  1558	        // í…ŒìŠ¤íŠ¸ ì‹œì‘
  1559	        function startTest() {
  1560	            // ë‹¨ì–´ ìœ í˜•ì— ë”°ë¼ í•„í„°ë§
  1561	            let filteredWords = currentTest.loadedWords.filter(word => 
  1562	                currentTest.selectedDays.includes(word.day)
  1563	            );
  1564	            
  1565	            // ë©”ì¸ë‹¨ì–´ë§Œ ì„ íƒ ì‹œ
  1566	            if (currentTest.wordType === 'main') {
  1567	                filteredWords = filteredWords.filter(word => 
  1568	                    word.type === 'ë©”ì¸'
  1569	                );
  1570	            }
  1571	            // íŒŒìƒì–´ í¬í•¨ ì‹œ: ë©”ì¸ + íŒŒìƒì–´ ëª¨ë‘ í¬í•¨
  1572	            
  1573	            if (filteredWords.length < 30) {
  1574	                alert(`ë‹¨ì–´ê°€ ë¶€ì¡±í•©ë‹ˆë‹¤.\nìµœì†Œ 30ê°œê°€ í•„ìš”í•©ë‹ˆë‹¤. (í˜„ì¬ ${filteredWords.length}ê°œ)`);
  1575	                return;
  1576	            }
  1577	            
  1578	            currentTest.words = shuffleArray(filteredWords).slice(0, 30);
  1579	            currentTest.currentIndex = 0;
  1580	            
  1581	            showScreen('testScreen');
  1582	            showNextWord();
  1583	        }
  1584	
  1585	        // ë°°ì—´ ì„ê¸°
  1586	        function shuffleArray(array) {
  1587	            const shuffled = [...array];
  1588	            for (let i = shuffled.length - 1; i > 0; i--) {
  1589	                const j = Math.floor(Math.random() * (i + 1));
  1590	                [shuffled[i], shuffled[j]] = [shuffled[j], shuffled[i]];
  1591	            }
  1592	            return shuffled;
  1593	        }
  1594	
  1595	        // ë‹¤ìŒ ë‹¨ì–´ í‘œì‹œ
  1596	        function showNextWord() {
  1597	            if (currentTest.currentIndex >= 30) {
  1598	                showScreen('completeScreen');
  1599	                soundEffects.complete();
  1600	                return;
  1601	            }
  1602	            
  1603	            const word = currentTest.words[currentTest.currentIndex];
  1604	            const wordDisplay = document.getElementById('wordDisplay');
  1605	            const blackScreen = document.getElementById('blackScreen');
  1606	            const nextBtn = document.getElementById('nextBtn');
  1607	            const timeDisplay = document.getElementById('timeDisplay');
  1608	            
  1609	            // ì§„í–‰ë¥  ì—…ë°ì´íŠ¸
  1610	            document.getElementById('currentQuestion').textContent = currentTest.currentIndex + 1;
  1611	            document.getElementById('progressBar').style.width = ((currentTest.currentIndex + 1) / 30 * 100) + '%';
  1612	            
  1613	            nextBtn.classList.remove('show');
  1614	            
  1615	            if (currentTest.testType === 'meaning') {
  1616	                // í•œê¸€ëœ» í…ŒìŠ¤íŠ¸: ì˜ì–´ 3ì´ˆ â†’ ê²€ì€í™”ë©´ 4ì´ˆ
  1617	                wordDisplay.style.display = 'flex';
  1618	                wordDisplay.textContent = word.english;
  1619	                blackScreen.style.display = 'none';
  1620	                soundEffects.wordShow();
  1621	                
  1622	                startTimer(3, () => {
  1623	                    wordDisplay.style.display = 'none';
  1624	                    blackScreen.style.display = 'flex';
  1625	                    soundEffects.wordHide();
  1626	                    
  1627	                    startTimer(4, () => {
  1628	                        nextBtn.classList.add('show');
  1629	                        soundEffects.timeUp();
  1630	                    });
  1631	                });
  1632	            } else {
  1633	                // ìŠ¤í ë§ í…ŒìŠ¤íŠ¸: í•œê¸€ 3ì´ˆ â†’ ê²€ì€í™”ë©´ 6ì´ˆ
  1634	                wordDisplay.style.display = 'flex';
  1635	                wordDisplay.textContent = word.korean;
  1636	                blackScreen.style.display = 'none';
  1637	                soundEffects.wordShow();
  1638	                
  1639	                startTimer(3, () => {
  1640	                    wordDisplay.style.display = 'none';
  1641	                    blackScreen.style.display = 'flex';
  1642	                    soundEffects.wordHide();
  1643	                    
  1644	                    startTimer(6, () => {
  1645	                        nextBtn.classList.add('show');
  1646	                        soundEffects.timeUp();
  1647	                    });
  1648	                });
  1649	            }
  1650	        }
  1651	
  1652	        // íƒ€ì´ë¨¸
  1653	        function startTimer(seconds, callback) {
  1654	            if (currentTimer) {
  1655	                clearInterval(currentTimer);
  1656	            }
  1657	            
  1658	            currentTimeLeft = seconds;
  1659	            document.getElementById('timeDisplay').textContent = seconds;
  1660	            
  1661	            currentTimer = setInterval(() => {
  1662	                currentTimeLeft--;
  1663	                document.getElementById('timeDisplay').textContent = currentTimeLeft;
  1664	                
  1665	                if (currentTimeLeft <= 0) {
  1666	                    clearInterval(currentTimer);
  1667	                    callback();
  1668	                }
  1669	            }, 1000);
  1670	        }
  1671	
  1672	        // ë‹¤ìŒ ë¬¸ì œ
  1673	        function goToNextQuestion() {
  1674	            currentTest.currentIndex++;
  1675	            showNextWord();
  1676	        }
  1677	
  1678	        // í™”ë©´ ì „í™˜
  1679	        function showScreen(screenId) {
  1680	            document.getElementById('settingScreen').style.display = 'none';
  1681	            document.getElementById('testScreen').classList.remove('active');
  1682	            document.getElementById('completeScreen').classList.remove('active');
  1683	            document.getElementById('answerScreen').classList.remove('active');
  1684	            
  1685	            if (screenId === 'testScreen') {
  1686	                document.getElementById('testScreen').classList.add('active');
  1687	            } else if (screenId === 'completeScreen') {
  1688	                document.getElementById('completeScreen').classList.add('active');
  1689	            } else if (screenId === 'answerScreen') {
  1690	                document.getElementById('answerScreen').classList.add('active');
  1691	            } else {
  1692	                document.getElementById('settingScreen').style.display = 'block';
  1693	            }
  1694	        }
  1695	
  1696	        // ì •ë‹µ í™”ë©´
  1697	        function showAnswerScreen() {
  1698	            showScreen('answerScreen');
  1699	            
  1700	            const tbody = document.getElementById('answerTableBody');
  1701	            tbody.innerHTML = currentTest.words.map((word, index) => 
  1702	                `<tr>
  1703	                    <td>${index + 1}</td>
  1704	                    <td><strong>${word.english}</strong></td>
  1705	                    <td>${word.korean}</td>
  1706	                    <td>Day ${word.day}</td>
  1707	                </tr>`
  1708	            ).join('');
  1709	        }
  1710	    </script>
  1711	</body>
  1712	</html>
